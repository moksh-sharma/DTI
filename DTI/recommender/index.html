<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Engineering College Recommender</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --dark-bg: #121212;
            --darker-bg: #0c1320;
            --card-bg: #1e293b;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent-color: #ff4b5c;
            --accent-hover: #ff2836;
            --success-color: #10b981;
            --danger-color: #ff4b5c;
            --info-color: #ff4b5c;
            --gradient-start: #ff4b5c;
            --gradient-end: #ff2836;
        }

        body {
            padding-top: 2rem;
            padding-bottom: 2rem;
            background: #121212;
            font-family: 'Poppins', sans-serif;
            color: var(--text-primary);
            min-height: 100vh;
        }

        .header {
            margin-bottom: 2rem;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(255, 75, 92, 0.2);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 2px solid #ff4b5c;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(255, 75, 92, 0.1) 0%, transparent 50%);
            animation: pulse 4s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }

            100% {
                transform: scale(1);
                opacity: 0.5;
            }
        }

        .header h1 {
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
            font-size: 2.5rem;
            letter-spacing: 1px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .card {
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 30px rgba(255, 75, 92, 0.1);
            border: none;
            border-radius: 20px;
            background: rgba(0, 0, 0, 0.7);
            overflow: hidden;
            position: relative;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 75, 92, 0.2);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 75, 92, 0.2);
        }

        .card-header {
            font-weight: 600;
            border-radius: 20px 20px 0 0 !important;
            padding: 1.5rem;
            background: rgba(255, 75, 92, 0.1) !important;
            border-bottom: 1px solid rgba(255, 75, 92, 0.2);
            font-size: 1.2rem;
            color: white;
        }

        .reach {
            border-left: 4px solid var(--danger-color);
            background: linear-gradient(to right, rgba(255, 75, 92, 0.1), rgba(0, 0, 0, 0.7));
        }

        .match {
            border-left: 4px solid var(--success-color);
            background: linear-gradient(to right, rgba(16, 185, 129, 0.1), rgba(0, 0, 0, 0.7));
        }

        .safety {
            border-left: 4px solid var(--info-color);
            background: linear-gradient(to right, rgba(255, 75, 92, 0.1), rgba(0, 0, 0, 0.7));
        }

        .match-score {
            font-size: 1.1rem;
            font-weight: 600;
            color: #ff4b5c;
            background: rgba(255, 75, 92, 0.1);
            padding: 0.5rem 1.2rem;
            border-radius: 30px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 75, 92, 0.2);
        }

        .explanation-list {
            padding-left: 1.2rem;
        }

        .loading {
            text-align: center;
            margin: 2rem 0;
            display: none;
        }

        .results-heading {
            margin-top: 2rem;
            margin-bottom: 1.5rem;
            display: none;
            color: #ff4b5c;
            font-weight: 600;
            text-align: center;
            font-size: 2rem;
            text-shadow: 0 0 10px rgba(255, 75, 92, 0.4);
            position: relative;
            padding-bottom: 1rem;
        }

        .results-heading::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            border-radius: 3px;
        }

        #results {
            display: none;
        }

        .form-label {
            font-weight: 500;
            color: #ff4b5c;
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            background-color: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 75, 92, 0.2);
            color: white;
            border-radius: 12px;
            padding: 0.8rem 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1rem;
        }

        .form-control:focus,
        .form-select:focus {
            background-color: rgba(0, 0, 0, 0.6);
            border-color: #ff4b5c;
            color: white;
            box-shadow: 0 0 0 3px rgba(255, 75, 92, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff4b5c 0%, #ff2836 100%);
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 30px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(255, 75, 92, 0.3);
        }

        .btn-primary:hover {
            color: #ffffff !important;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5) !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 20px rgba(255, 75, 92, 0.4) !important;
            background: linear-gradient(135deg, #ff2836 0%, #ff4b5c 100%) !important;
        }

        .form-check-label {
            font-weight: 400;
            color: rgba(255, 255, 255, 0.8);
            transition: color 0.3s ease;
        }

        .badge {
            padding: 0.6rem 1.2rem;
            font-weight: 500;
            border-radius: 30px;
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .college-details {
            background: rgba(255, 255, 255, 0.03);
            padding: 1.8rem;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .college-details:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-2px);
        }

        .college-details h5 {
            color: var(--accent-color);
            font-weight: 600;
            margin-bottom: 1.2rem;
            font-size: 1.3rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .college-details h5::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            border-radius: 2px;
        }

        .college-details ul {
            list-style: none;
            padding-left: 0;
        }

        .college-details li {
            margin-bottom: 1rem;
            padding-left: 1.8rem;
            position: relative;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .college-details li:hover {
            color: var(--text-primary);
        }

        .college-details li:before {
            content: "‚Ä¢";
            color: var(--accent-color);
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }

        .card-header.bg-primary {
            background: linear-gradient(135deg, #ff4b5c 0%, #ff2836 100%) !important;
        }

        .form-check-input:checked {
            background-color: #ff4b5c;
            border-color: #ff4b5c;
        }

        .text-muted {
            color: rgba(255, 255, 255, 0.6) !important;
        }

        .spinner-border {
            width: 3rem;
            height: 3rem;
            color: #ff4b5c !important;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--darker-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: #ff4b5c;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #ff2836;
        }

        /* Glass morphism effect for cards */
        .glass-effect {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Fade in animation for results */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #results {
            animation: fadeIn 0.5s ease-out;
        }

        /* Smooth transitions for all interactive elements */
        * {
            transition: background-color 0.3s ease,
                border-color 0.3s ease,
                color 0.3s ease,
                transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>

<body>
    <div class="container">
        <a href="../index.html" class="btn-primary"
            style="position: fixed; top: 20px; right: 20px; z-index: 1000; display: inline-block; padding: 8px 20px; text-decoration: none; border-radius: 30px; box-shadow: 0 4px 15px rgba(255, 75, 92, 0.3); color: rgba(255, 255, 255, 0.8); transition: all 0.3s ease;">üè†
            Home</a>
        <div class="header">
            <h1>Indian Engineering College Recommender</h1>
            <p class="lead">Find the perfect engineering college based on your JEE score and preferences</p>
        </div>

        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        Enter Your Preferences
                    </div>
                    <div class="card-body">
                        <form id="preference-form">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="jee_percentile" class="form-label">JEE Main Percentile</label>
                                    <input type="number" class="form-control" id="jee_percentile" name="jee_percentile"
                                        min="0" max="100" step="0.1">
                                    <small class="text-muted">Enter your JEE Main percentile (0-100)</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="budget" class="form-label">Max Annual Tuition Budget (‚Çπ)</label>
                                    <input type="number" class="form-control" id="budget" name="budget" min="0"
                                        step="10000">
                                    <small class="text-muted">Enter your budget in Indian Rupees</small>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <label for="preferred_location" class="form-label">Preferred Region</label>
                                    <select class="form-select" id="preferred_location" name="preferred_location">
                                        <option value="">No Preference</option>
                                        <option value="North">North India</option>
                                        <option value="South">South India</option>
                                        <option value="East">East India</option>
                                        <option value="West">West India</option>
                                        <option value="Central">Central India</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Preferred Branches</label>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="Computer Science"
                                                id="branch_cs" name="preferred_majors">
                                            <label class="form-check-label" for="branch_cs">Computer Science</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="Electrical"
                                                id="branch_electrical" name="preferred_majors">
                                            <label class="form-check-label" for="branch_electrical">Electrical</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="Mechanical"
                                                id="branch_mechanical" name="preferred_majors">
                                            <label class="form-check-label" for="branch_mechanical">Mechanical</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="Civil"
                                                id="branch_civil" name="preferred_majors">
                                            <label class="form-check-label" for="branch_civil">Civil</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="Electronics"
                                                id="branch_electronics" name="preferred_majors">
                                            <label class="form-check-label" for="branch_electronics">Electronics</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="IT" id="branch_it"
                                                name="preferred_majors">
                                            <label class="form-check-label" for="branch_it">Information
                                                Technology</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-primary">Get College Recommendations</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="loading">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p>Finding your perfect college match...</p>
                </div>

                <h2 class="results-heading">Your Top College Matches</h2>
                <div id="results" class="mt-4"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // College data
        const colleges = [
            // Top Government Colleges
            { name: 'IIT Bombay', acceptance_rate: 0.01, jee_percentile: 98, tuition: 250000, location: 'West', majors: 'Computer Science, Electrical, Mechanical' },
            { name: 'IIT Delhi', acceptance_rate: 0.01, jee_percentile: 97, tuition: 250000, location: 'North', majors: 'Computer Science, Electrical, Mechanical' },
            { name: 'IIT Madras', acceptance_rate: 0.01, jee_percentile: 97, tuition: 250000, location: 'South', majors: 'Computer Science, Electrical, Civil' },
            { name: 'IIT Kanpur', acceptance_rate: 0.01, jee_percentile: 97, tuition: 250000, location: 'Central', majors: 'Computer Science, Electrical, Mechanical' },
            { name: 'IIT Kharagpur', acceptance_rate: 0.01, jee_percentile: 97, tuition: 250000, location: 'East', majors: 'Computer Science, Electrical, Civil' },
            { name: 'IIT Roorkee', acceptance_rate: 0.01, jee_percentile: 97, tuition: 250000, location: 'North', majors: 'Computer Science, Electrical, Civil' },
            { name: 'BITS Pilani', acceptance_rate: 0.05, jee_percentile: 95, tuition: 450000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Trichy', acceptance_rate: 0.02, jee_percentile: 94, tuition: 250000, location: 'South', majors: 'Computer Science, Electrical, Mechanical' },
            { name: 'IIIT Hyderabad', acceptance_rate: 0.02, jee_percentile: 94, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, IT' },
            { name: 'DTU Delhi', acceptance_rate: 0.03, jee_percentile: 93, tuition: 250000, location: 'North', majors: 'Computer Science, Electrical, Mechanical' },
            { name: 'NIT Surathkal', acceptance_rate: 0.02, jee_percentile: 93, tuition: 250000, location: 'South', majors: 'Computer Science, Electrical, Civil' },
            { name: 'IIT Guwahati', acceptance_rate: 0.01, jee_percentile: 97, tuition: 250000, location: 'East', majors: 'Computer Science, Electrical, Mechanical' },
            { name: 'IIT Hyderabad', acceptance_rate: 0.01, jee_percentile: 96, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'IIT Indore', acceptance_rate: 0.01, jee_percentile: 96, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'IIT BHU', acceptance_rate: 0.01, jee_percentile: 97, tuition: 250000, location: 'Central', majors: 'Computer Science, Electrical, Civil' },
            { name: 'IIT Ropar', acceptance_rate: 0.01, jee_percentile: 96, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },

            // Additional Government Colleges
            { name: 'NIT Warangal', acceptance_rate: 0.02, jee_percentile: 93, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Calicut', acceptance_rate: 0.02, jee_percentile: 92, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Civil' },
            { name: 'NIT Rourkela', acceptance_rate: 0.02, jee_percentile: 92, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Jamshedpur', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Nagpur', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Allahabad', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Civil' },
            { name: 'NIT Kurukshetra', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Hamirpur', acceptance_rate: 0.02, jee_percentile: 90, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, Civil' },
            { name: 'NIT Durgapur', acceptance_rate: 0.02, jee_percentile: 90, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Silchar', acceptance_rate: 0.02, jee_percentile: 89, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Civil' },
            { name: 'NIT Meghalaya', acceptance_rate: 0.02, jee_percentile: 88, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Manipur', acceptance_rate: 0.02, jee_percentile: 87, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Civil' },
            { name: 'NIT Mizoram', acceptance_rate: 0.02, jee_percentile: 86, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NIT Arunachal Pradesh', acceptance_rate: 0.02, jee_percentile: 85, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Civil' },
            { name: 'NIT Sikkim', acceptance_rate: 0.02, jee_percentile: 84, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },

            // Delhi NCR Colleges
            { name: 'NSIT Delhi', acceptance_rate: 0.02, jee_percentile: 95, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'IIIT Delhi', acceptance_rate: 0.02, jee_percentile: 94, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'IGDTUW Delhi', acceptance_rate: 0.03, jee_percentile: 92, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Jamia Millia Islamia', acceptance_rate: 0.03, jee_percentile: 90, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Amity University Noida', acceptance_rate: 0.30, jee_percentile: 80, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'Galgotias University', acceptance_rate: 0.30, jee_percentile: 80, tuition: 200000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Bennett University', acceptance_rate: 0.25, jee_percentile: 85, tuition: 300000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'Shiv Nadar University', acceptance_rate: 0.20, jee_percentile: 88, tuition: 350000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Manav Rachna University', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'Guru Gobind Singh Indraprastha University', acceptance_rate: 0.15, jee_percentile: 85, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },

            // Additional Delhi NCR & Greater Noida Colleges
            { name: 'Greater Noida Institute of Technology', acceptance_rate: 0.25, jee_percentile: 75, tuition: 200000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'Noida Institute of Engineering and Technology', acceptance_rate: 0.25, jee_percentile: 75, tuition: 200000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'JSS Academy of Technical Education Noida', acceptance_rate: 0.20, jee_percentile: 80, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'IMS Engineering College Ghaziabad', acceptance_rate: 0.25, jee_percentile: 75, tuition: 200000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Ajay Kumar Garg Engineering College Ghaziabad', acceptance_rate: 0.20, jee_percentile: 80, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'KIET Group of Institutions Ghaziabad', acceptance_rate: 0.25, jee_percentile: 75, tuition: 200000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'ABES Engineering College Ghaziabad', acceptance_rate: 0.20, jee_percentile: 80, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'HMR Institute of Technology and Management Delhi', acceptance_rate: 0.25, jee_percentile: 75, tuition: 200000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Bharati Vidyapeeth College of Engineering Delhi', acceptance_rate: 0.20, jee_percentile: 80, tuition: 250000, location: 'North', majors: 'Computer Science, Electronics, IT' },
            { name: 'Maharaja Surajmal Institute of Technology', acceptance_rate: 0.25, jee_percentile: 75, tuition: 200000, location: 'North', majors: 'Computer Science, Electronics, Mechanical' },

            // South India Colleges
            { name: 'VIT Vellore', acceptance_rate: 0.15, jee_percentile: 90, tuition: 350000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Manipal Institute of Technology', acceptance_rate: 0.20, jee_percentile: 88, tuition: 400000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'COEP Pune', acceptance_rate: 0.02, jee_percentile: 93, tuition: 250000, location: 'South', majors: 'Computer Science, Electrical, Civil' },
            { name: 'PSG Tech Coimbatore', acceptance_rate: 0.03, jee_percentile: 92, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'SRM University Chennai', acceptance_rate: 0.25, jee_percentile: 85, tuition: 300000, location: 'South', majors: 'Computer Science, Electronics, IT' },
            { name: 'Vellore Institute of Technology Chennai', acceptance_rate: 0.20, jee_percentile: 85, tuition: 350000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Sathyabama Institute of Science and Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, IT' },
            { name: 'Hindustan Institute of Technology', acceptance_rate: 0.30, jee_percentile: 75, tuition: 200000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'SASTRA University', acceptance_rate: 0.20, jee_percentile: 85, tuition: 300000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Amrita School of Engineering', acceptance_rate: 0.20, jee_percentile: 85, tuition: 300000, location: 'South', majors: 'Computer Science, Electronics, IT' },
            { name: 'Kongu Engineering College', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Sri Venkateswara College of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Vel Tech University', acceptance_rate: 0.30, jee_percentile: 75, tuition: 200000, location: 'South', majors: 'Computer Science, Electronics, IT' },
            { name: 'Karunya Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Anna University Chennai', acceptance_rate: 0.02, jee_percentile: 92, tuition: 250000, location: 'South', majors: 'Computer Science, Electronics, Civil' },

            // West India Colleges
            { name: 'Bharati Vidyapeeth Pune', acceptance_rate: 0.25, jee_percentile: 85, tuition: 300000, location: 'West', majors: 'Computer Science, Electronics, IT' },
            { name: 'Symbiosis Institute of Technology', acceptance_rate: 0.20, jee_percentile: 90, tuition: 350000, location: 'West', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Walchand College of Engineering', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Sardar Patel College of Engineering', acceptance_rate: 0.02, jee_percentile: 90, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'VJTI Mumbai', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, Civil' },
            { name: 'SPIT Mumbai', acceptance_rate: 0.02, jee_percentile: 90, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, IT' },
            { name: 'DJ Sanghvi College of Engineering', acceptance_rate: 0.02, jee_percentile: 89, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'KJ Somaiya College of Engineering', acceptance_rate: 0.02, jee_percentile: 88, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, IT' },
            { name: 'Mukesh Patel School of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 300000, location: 'West', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'NMIMS University', acceptance_rate: 0.25, jee_percentile: 80, tuition: 350000, location: 'West', majors: 'Computer Science, Electronics, IT' },
            { name: 'Pillai College of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Thakur College of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, IT' },
            { name: 'Fr. Agnel College of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Don Bosco Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, IT' },
            { name: 'Xavier Institute of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'West', majors: 'Computer Science, Electronics, Mechanical' },

            // East India Colleges
            { name: 'KIIT University', acceptance_rate: 0.25, jee_percentile: 85, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Jadavpur University', acceptance_rate: 0.02, jee_percentile: 92, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Bengal Engineering College', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Haldia Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, IT' },
            { name: 'Heritage Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Techno India University', acceptance_rate: 0.30, jee_percentile: 75, tuition: 200000, location: 'East', majors: 'Computer Science, Electronics, IT' },
            { name: 'Netaji Subhash Engineering College', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'RCC Institute of Information Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, IT' },
            { name: 'Future Institute of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Academy of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, IT' },
            { name: 'Asansol Engineering College', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Bankura Unnayani Institute of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Budge Budge Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, IT' },
            { name: 'Calcutta Institute of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Dr. B.C. Roy Engineering College', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'East', majors: 'Computer Science, Electronics, Civil' },

            // Central India Colleges
            { name: 'Maulana Azad National Institute of Technology', acceptance_rate: 0.02, jee_percentile: 91, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Shri G.S. Institute of Technology', acceptance_rate: 0.02, jee_percentile: 90, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Lakshmi Narain College of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, IT' },
            { name: 'Oriental College of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'SGSITS Indore', acceptance_rate: 0.02, jee_percentile: 90, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Institute of Engineering and Technology', acceptance_rate: 0.02, jee_percentile: 89, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Shri Ram Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, IT' },
            { name: 'TIT Group of Institutions', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Radharaman Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Chameli Devi Group of Institutions', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, IT' },
            { name: 'Acropolis Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Vikrant Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Civil' },
            { name: 'Truba Institute of Engineering', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, IT' },
            { name: 'Bansal Institute of Science and Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Mechanical' },
            { name: 'Rustamji Institute of Technology', acceptance_rate: 0.25, jee_percentile: 80, tuition: 250000, location: 'Central', majors: 'Computer Science, Electronics, Civil' }
        ];

        class CollegeRecommendationSystem {
            constructor() {
                this.colleges = colleges;
                this.regionWeights = {
                    'North': 1.2,
                    'South': 1.2,
                    'East': 1.2,
                    'West': 1.2,
                    'Central': 1.2
                };
            }

            getRecommendations(preferences) {
                let recommendations = this.colleges.map(college => ({
                    ...college,
                    match_score: 0,
                    regional_score: 0
                }));

                // Match based on JEE percentile
                if (preferences.jee_percentile) {
                    const jee_percentile = parseInt(preferences.jee_percentile);
                    recommendations.forEach(college => {
                        if (Math.abs(college.jee_percentile - jee_percentile) <= 5) {
                            college.match_score += 20;
                        }
                        if (Math.abs(college.jee_percentile - jee_percentile) <= 2) {
                            college.match_score += 10;
                        }
                    });
                }

                // Match based on budget
                if (preferences.budget) {
                    const budget = parseInt(preferences.budget);
                    recommendations.forEach(college => {
                        if (college.tuition <= budget) {
                            college.match_score += 25;
                        }
                    });
                }

                // Enhanced regional matching
                if (preferences.preferred_location) {
                    recommendations.forEach(college => {
                        // Base regional score
                        if (college.location === preferences.preferred_location) {
                            college.regional_score = 30;
                            college.match_score += 30;
                        }

                        // Additional regional benefits
                        if (college.location === preferences.preferred_location) {
                            // Higher acceptance rate for regional preference
                            college.match_score += (college.acceptance_rate * 10);

                            // Lower tuition for regional preference
                            if (college.tuition <= 250000) {
                                college.match_score += 5;
                            }

                            // Additional points for government colleges in preferred region
                            if (college.name.includes('IIT') || college.name.includes('NIT')) {
                                college.match_score += 10;
                            }
                        }
                    });
                }

                // Match based on majors with regional preference
                if (preferences.preferred_majors && preferences.preferred_majors.length > 0) {
                    recommendations.forEach(college => {
                        if (preferences.preferred_majors.some(major => college.majors.includes(major))) {
                            let majorScore = 25;
                            // Additional points for majors in preferred region
                            if (college.location === preferences.preferred_location) {
                                majorScore += 10;
                            }
                            college.match_score += majorScore;
                        }
                    });
                }

                // Calculate categories with regional consideration
                if (preferences.jee_percentile) {
                    const jee_percentile = parseInt(preferences.jee_percentile);
                    recommendations.forEach(college => {
                        let percentileThreshold = 2;
                        // More lenient threshold for preferred region
                        if (college.location === preferences.preferred_location) {
                            percentileThreshold = 3;
                        }

                        if (college.jee_percentile > jee_percentile + percentileThreshold) {
                            college.category = 'Reach';
                        } else if (college.jee_percentile < jee_percentile - percentileThreshold) {
                            college.category = 'Safety';
                        } else {
                            college.category = 'Match';
                        }
                    });
                }

                // Sort by match score with regional preference
                recommendations.sort((a, b) => {
                    // If both colleges are in preferred region, compare match scores
                    if (a.location === preferences.preferred_location && b.location === preferences.preferred_location) {
                        return b.match_score - a.match_score;
                    }
                    // If only one is in preferred region, prioritize it
                    if (a.location === preferences.preferred_location) return -1;
                    if (b.location === preferences.preferred_location) return 1;
                    // If neither is in preferred region, compare match scores
                    return b.match_score - a.match_score;
                });

                return recommendations;
            }

            explainRecommendation(college, preferences) {
                const explanation = [];

                // JEE percentile comparison with regional context
                if (preferences.jee_percentile) {
                    const jee_percentile = parseInt(preferences.jee_percentile);
                    const percentile_diff = college.jee_percentile - jee_percentile;
                    if (Math.abs(percentile_diff) <= 2) {
                        explanation.push(`Your JEE percentile (${jee_percentile}) is very close to ${college.name}'s average (${college.jee_percentile}).`);
                    } else if (percentile_diff > 2) {
                        explanation.push(`${college.name}'s average JEE percentile (${college.jee_percentile}) is higher than yours (${jee_percentile}), making this a reach school.`);
                    } else {
                        explanation.push(`Your JEE percentile (${jee_percentile}) is higher than ${college.name}'s average (${college.jee_percentile}), making this a safety school.`);
                    }
                }

                // Budget comparison with regional context
                if (preferences.budget) {
                    const budget = parseInt(preferences.budget);
                    if (college.tuition <= budget) {
                        explanation.push(`The annual tuition (‚Çπ${college.tuition.toLocaleString()}) is within your budget (‚Çπ${budget.toLocaleString()}).`);
                        if (college.location === preferences.preferred_location) {
                            explanation.push(`As a college in your preferred region, you may be eligible for additional scholarships or fee concessions.`);
                        }
                    } else {
                        explanation.push(`The annual tuition (‚Çπ${college.tuition.toLocaleString()}) exceeds your budget (‚Çπ${budget.toLocaleString()}), but scholarships may be available.`);
                    }
                }

                // Enhanced location match explanation
                if (preferences.preferred_location) {
                    if (college.location === preferences.preferred_location) {
                        explanation.push(`Located in your preferred ${college.location} region, offering advantages like:`, [
                            `- Familiar environment and culture`,
                            `- Easier travel and accommodation`,
                            `- Potential for local networking opportunities`,
                            `- Possible regional scholarships and benefits`
                        ].join(''));
                    } else {
                        explanation.push(`Located in ${college.location} region, which may require additional consideration for travel and accommodation.`);
                    }
                }

                // Major match with regional context
                if (preferences.preferred_majors && preferences.preferred_majors.length > 0) {
                    const matching_majors = preferences.preferred_majors.filter(major => college.majors.includes(major));
                    if (matching_majors.length > 0) {
                        explanation.push(`It offers your preferred branch(es): ${matching_majors.join(', ')}.`);
                        if (college.location === preferences.preferred_location) {
                            explanation.push(`As a college in your preferred region, you may have better access to industry connections and internship opportunities in your chosen branch.`);
                        }
                    }
                }

                // Add acceptance rate information with regional context
                explanation.push(`Acceptance rate: ${(college.acceptance_rate * 100).toFixed(1)}%`);
                if (college.location === preferences.preferred_location) {
                    explanation.push(`As a college in your preferred region, you may have a better chance of admission due to regional quotas and preferences.`);
                }

                return explanation;
            }
        }

        // Create an instance of the recommendation system
        const recommender = new CollegeRecommendationSystem();

        // Form submission handler
        document.getElementById('preference-form').addEventListener('submit', function (e) {
            e.preventDefault();

            // Show loading spinner
            document.querySelector('.loading').style.display = 'block';
            document.querySelector('.results-heading').style.display = 'none';
            document.getElementById('results').style.display = 'none';

            // Get form data
            const formData = new FormData(this);
            const preferences = {
                jee_percentile: formData.get('jee_percentile'),
                budget: formData.get('budget'),
                preferred_location: formData.get('preferred_location'),
                preferred_majors: formData.getAll('preferred_majors')
            };

            // Get recommendations
            const recommendations = recommender.getRecommendations(preferences);

            // Hide loading spinner
            document.querySelector('.loading').style.display = 'none';

            // Show results heading
            document.querySelector('.results-heading').style.display = 'block';

            // Display results
            const resultsContainer = document.getElementById('results');
            resultsContainer.innerHTML = '';

            recommendations.slice(0, 10).forEach(college => {
                let categoryClass = '';
                let categoryBadge = '';

                if (college.category === 'Reach') {
                    categoryClass = 'reach';
                    categoryBadge = '<span class="badge bg-danger">Reach</span>';
                } else if (college.category === 'Match') {
                    categoryClass = 'match';
                    categoryBadge = '<span class="badge bg-success">Match</span>';
                } else if (college.category === 'Safety') {
                    categoryClass = 'safety';
                    categoryBadge = '<span class="badge bg-info">Safety</span>';
                }

                const explanationItems = recommender.explainRecommendation(college, preferences)
                    .map(item => `<li>${item}</li>`)
                    .join('');

                const collegeCard = `
                        <div class="card ${categoryClass}">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <div>${college.name} ${categoryBadge}</div>
                            <div class="match-score">Match Score: ${college.match_score}</div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                    <div class="college-details">
                                        <h5>College Details</h5>
                                        <ul>
                                            <li>JEE Percentile: ${college.jee_percentile}</li>
                                            <li>Annual Tuition: ‚Çπ${college.tuition.toLocaleString()}</li>
                                            <li>Acceptance Rate: ${(college.acceptance_rate * 100).toFixed(1)}%</li>
                                            <li>Region: ${college.location}</li>
                                        </ul>
                                        <h6>Available Branches</h6>
                                        <p>${college.majors}</p>
                                    </div>
                                    </div>
                                    <div class="col-md-6">
                                    <div class="college-details">
                                        <h5>Why This College Matches You</h5>
                                        <ul class="explanation-list">
                                            ${explanationItems}
                                        </ul>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;

                resultsContainer.innerHTML += collegeCard;
            });

            resultsContainer.style.display = 'block';

            // Scroll to results
            document.querySelector('.results-heading').scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>

</html>