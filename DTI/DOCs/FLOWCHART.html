<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.3/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        securityLevel: 'loose'
    });
</script>

<style>
    .mermaid {
        font-size: 18px;
    }

    .mermaid .nodeLabel,
    .mermaid .edgeLabel {
        font-size: 18px;
        font-weight: bold;
    }

    .mermaid .cluster-label {
        font-size: 24px;
        font-weight: bold;
        fill: #2c3e50;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .mermaid .cluster rect {
        fill: #ecf0f1;
        stroke: #2c3e50;
        stroke-width: 3px;
        rx: 15;
        ry: 15;
    }

    .mermaid .node rect {
        rx: 15;
        ry: 15;
        fill: #3498db;
        stroke: #2980b9;
        stroke-width: 3px;
    }

    .mermaid .node circle {
        fill: #e74c3c;
        stroke: #c0392b;
        stroke-width: 3px;
    }

    .mermaid .edgePath .path {
        stroke: #2c3e50;
        stroke-width: 3px;
    }

    .mermaid .edgeLabel {
        background-color: #fff;
        padding: 5px;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
</style>

<div class="mermaid">
    flowchart TB
    %% Main flow
    Start(("START"))
    WelcomeScreen["Welcome Screen"]
    InputData["Input Data"]

    %% Input Data subgraph
    subgraph InputSection["INPUT SECTION"]
    direction LR
    InputData -->|"Class 12th Marks"| FilterColleges1["Filter Colleges"]
    InputData -->|"Course Interest"| FilterColleges2["Filter Colleges"]
    InputData -->|"Budget"| FilterColleges3["Filter Colleges"]
    end

    %% Filter Colleges subgraph
    subgraph FilterSection["FILTER SECTION"]
    direction LR
    FilterColleges1 -->|"Marks Eligibility"| ProvideList1["Provide List"]
    FilterColleges2 -->|"Course Availability"| ProvideList2["Provide List"]
    FilterColleges3 -->|"Budget Fit"| ProvideList3["Provide List"]
    end

    %% Provide List subgraph
    subgraph ListSection["LIST SECTION"]
    direction LR
    ProvideList1 -->|"Name, Location, Fees"| SortingAssistance1["Sorting Assistance"]
    ProvideList2 -->|"Honest Reviews"| SortingAssistance2["Sorting Assistance"]
    ProvideList3 -->|"Strengths & Weaknesses"| SortingAssistance3["Sorting Assistance"]
    end

    %% Sorting Assistance subgraph
    subgraph SortingSection["SORTING SECTION"]
    direction LR
    SortingAssistance1 -->|"One-to-One Interaction"| AdditionalFeatures1["Additional Features"]
    SortingAssistance2 -->|"Placement Information"| AdditionalFeatures2["Additional Features"]
    end

    %% Additional Features subgraph
    subgraph FeaturesSection["FEATURES SECTION"]
    direction LR
    AdditionalFeatures1 -->|"Save Shortlisted Colleges"| FinalizeCollege["Finalize College"]
    AdditionalFeatures2 -->|"Counseling Assistance"| FinalizeCollege
    end

    %% Main connections
    Start --> WelcomeScreen
    WelcomeScreen --> InputData
    FinalizeCollege --> End(("END"))

    %% Layout settings
    linkStyle default stroke:#2c3e50,stroke-width:3px;
    classDef default fill:#3498db,stroke:#2980b9,stroke-width:3px;
    classDef section fill:#ecf0f1,stroke:#2c3e50,stroke-width:3px;
    classDef start fill:#e74c3c,stroke:#c0392b,stroke-width:3px;
    classDef end fill:#e74c3c,stroke:#c0392b,stroke-width:3px;
    class InputSection,FilterSection,ListSection,SortingSection,FeaturesSection section;
    class Start,End start,end;
</div>